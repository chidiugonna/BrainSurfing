<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Working with Surface-based formats - BrainSurfing</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Working with Surface-based formats";
    var mkdocs_page_input_path = "surfanalysis/introanalysis.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> BrainSurfing</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../about/">About</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Surface Formats</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../surfdata/introformats/">Introduction to Surface-based Formats</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../surfdata/formatref/">Neuroimaging Data Formats</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../surfdata/prac81/">practicum 8.1</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Surface Analysis</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Working with Surface-based formats</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#surface-processing">Surface Processing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sulc-freesurfer-pipeline-review">Sulc - Freesurfer Pipeline Review</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#the-pipeline-outputs">The Pipeline outputs</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#medial-layer">Medial layer</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#error-checking">Error Checking</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#vertex-correspondence">Vertex Correspondence</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#overlays">Overlays</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#standard-spaces-and-registration">Standard Spaces and Registration</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#2d-surface-coordinate-system">2D Surface Coordinate System</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#smoothing">Smoothing</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#surface-based-clustering-and-multiple-comparisons">Surface-based Clustering and Multiple Comparisons</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#beyond-sulc-hcp-pipeline-review">Beyond Sulc - HCP Pipeline Review</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../analysisref/">Surface Analysis Pipelines</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../prac91/">practicum 9.1</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">BrainSurfing</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Surface Analysis &raquo;</li>
        
      
    
    <li>Working with Surface-based formats</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="working-with-surface-based-formats">Working with Surface-based Formats</h1>
<h2 id="surface-processing">Surface Processing</h2>
<h2 id="sulc-freesurfer-pipeline-review">Sulc - Freesurfer Pipeline Review</h2>
<p>A really helpful review of the freesurfer pipeline is provided by Doug Greve in <a href="https://www.youtube.com/watch?v=8Ict0Erh7_c&amp;t=28s">Part 1</a> and <a href="https://www.youtube.com/watch?v=KncPouQWAp0">Part 2</a> of the 2013 Freesurfer course.</p>
<h3 id="the-pipeline-outputs">The Pipeline outputs</h3>
<p>Quick review of the freesurfer pipeline detailing the created volumes and surfaces.</p>
<ul>
<li>
<p>Volumetric pipeline - from T1w &gt; orig.mgz &gt; T1.mgz &gt; brainmask.mgz &gt; aseg.mgz &gt; wm.mgz</p>
</li>
<li>
<p>Surface pipeline - from wm.mgz &gt; lh.orig &gt; lh.white &gt; lh.pial etc..</p>
</li>
</ul>
<h3 id="medial-layer">Medial layer</h3>
<p>Each hemisphere analysed separately. Medial wall of hemosphere has non-cortical areas (subcortical structures. corpus callosum) and so to retain closed Spherical Topology the medial layer is usually enclosed in the white and pial layers and is masked out during analysis.</p>
<h3 id="error-checking">Error Checking</h3>
<p>Initial pial and white surfaces are critical for rest of pipeline - good to learn how to apply some quality control and manual editting if possible. Also good to review volumetric steps like segmentation, skull stripping that may have been erroneous</p>
<h3 id="vertex-correspondence">Vertex Correspondence</h3>
<p>In the same subject, vertices in each of the hemispheric surfaces correspond. So vertex 22 in lh.pial will have been created by nudging vertex 22 in the lh.white and so on. However there is no correspondence between different hemispheres or between different subjects in this native space.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Freesurfer took the engineering choice to relax vertex alignment at the subject level to prevent bias in vertex sampling and enable all subjects to have the same sampling density regardless of anatomical variability. </p>
</div>
<h3 id="overlays">Overlays</h3>
<p>Some important overlays are created as part of the Freesurfer pipeline that aid with registration
* curv - 3D mean curvature of the vertex - average of the principal curvatures which are maximum bending and minimum bending curvature.</p>
<ul>
<li>
<p>sulc - dot product of movement vector during inflation and the surface normal - megative if gyral, positive if sulcal - reveals large scale geometric features of the cortex better than mean curvature which has a lot of highfrequency information that is not as good for intersubject registration.</p>
</li>
<li>
<p>thickness - </p>
</li>
</ul>
<h3 id="standard-spaces-and-registration">Standard Spaces and Registration</h3>
<p>Mesh in native space - would be good to register all subjects to a standard space. In Freesurfer this is the fsaverage,  spherical template which has been created from 40 subjects.</p>
<h4 id="2d-surface-coordinate-system">2D Surface Coordinate System</h4>
<p>Analogous to volumetric coordinate system in 3D. The Cortical sheet is cut in several places to turn it into a flat map. Most easilly visualzied however as a sphere using 2D coordinate system of latitude and longitude - just like the earth - this latter approach is continuous without cuts and has a value represented at each point. Spheres are obtained by inflating the surface until it is as spherical as possible with minimal distortion. The fsaverage mesh and the sulc and curv overlays can be used to register subjects to the same space for comparison.</p>
<h3 id="smoothing">Smoothing</h3>
<p>Smoothing on the surface increase SNR and to improve intersubject registration. Smoothing kernels chosen by convention to be about 10mm - by matched filter theory would smoothing using a kernel size that matched the expected "blob" but not clear what this size is and it will also vary across space. Smoothing on the Surface is more accurate than in the volume as it avoids mixing signals across sulci/gyri boundaries. Quote references to demonstrate the advantages of surface smoothing - for example Doug Greve showed an asymmetric fmri study of serotonin receptors that demonstrated much more realistic activation after surface smoothing using a range of kernels.</p>
<h3 id="surface-based-clustering-and-multiple-comparisons">Surface-based Clustering and Multiple Comparisons</h3>
<p>Clusters in surface space are planar entities with area - this improves power as our correction for multiple comparisons is less severe as the search space is smaller - number of tests is reduced.</p>
<h2 id="beyond-sulc-hcp-pipeline-review">Beyond Sulc - HCP Pipeline Review</h2>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../analysisref/" class="btn btn-neutral float-right" title="Surface Analysis Pipelines">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../surfdata/prac81/" class="btn btn-neutral" title="practicum 8.1"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../surfdata/prac81/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../analysisref/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
